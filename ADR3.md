# ADR - [Выбор архитектурного стиля]

Участники: Лежнин Попов Смаилов

Дата: 25.09.2024

Статус: Code Review

## Контекст

Зависит от команды:
Наша команда состоит из 3 разработчиков с навыками PHP, JavaScript, Go, C++, SQL, Python и полным отсутствием бюджета.
При рассмотрении возможности реализации онлайн версии игры "Шашки" мы столкнулись со следующими трудностями:

- Проблемы и задачи
    - Масштабируемость: С учетом потенциального роста числа пользователей, важно выбрать архитектуру,
    - которая сможет поддерживать высокую нагрузку и обеспечивать стабильную работу приложения.
    - Производительность: Игровой процесс требует минимальной задержки, особенно в многопользовательском режиме.
    - Архитектура должна обеспечивать быструю обработку запросов и обновление состояния игры.
    - Разработка и поддержка: Выбранная архитектура должна быть удобной для команды разработчиков,
    - обеспечивая легкость в развертывании, тестировании и обновлении приложения.
- Ограничения и предпосылки
    - Технические ограничения: Необходимо учитывать доступные технологии и инструменты, а также уровень квалификации
      команды разработчиков. Например, бессерверные архитектуры могут потребовать знаний в области облачных технологий.
    - Безопасность: При реализации многопользовательского режима важно обеспечить защиту данных пользователей и
      предотвратить мошенничество в игре.
    - Бюджетные ограничения: Разные архитектурные подходы могут иметь различные затраты на внедрение и поддержку.
      Например, серверные решения могут требовать значительных инвестиций в инфраструктуру.
    - Пользовательский опыт: Архитектура должна поддерживать функции, которые улучшают взаимодействие с пользователем,
      такие как возможность играть с друзьями или против случайных соперников.

## Рассматриваемые варианты

### Монолитная архитектура

#### Плюсы:

- Простота разработки и развертывания.
- Легкость в отладке и тестировании.
- Меньшие затраты на инфраструктуру.

#### Минусы:

- Ограниченные возможности масштабирования.
- Сложности в внесении изменений: одна ошибка может повлиять на всю систему.
- Долгосрочная поддержка может стать сложной.

### Микросервисная архитектура

#### Плюсы:

- Высокая степень масштабируемости и гибкости.
- Возможность независимого развертывания и обновления сервисов.
- Легкость в использовании различных технологий для разных сервисов.

#### Минусы:

- Сложность управления и координации между сервисами.
- Увеличение накладных расходов на инфраструктуру.
- Необходимость разработки API для взаимодействия.

### Модульная архитектура

#### Плюсы:

- Разделение на модули, что упрощает поддержку и развитие.
- Возможность параллельной работы над модулями.
- Меньшая сложность развертывания по сравнению с микросервисами.

#### Минусы:

- При росте системы могут возникнуть зависимости между модулями.
- Необходимость строгого контроля версий модулей.
- Возможные ограничения на масштабирование отдельных модулей.

## Решение

- Выбрана модульная монолитная архитектура.

## Обоснование

- Модульный монолит обеспечивает возможность разделения системы на независимые модули, что упрощает разработку и
  поддержку, сохраняя при этом простоту развертывания. В отличие от микросервисов, он требует меньше усилий на
  интеграцию и управление. Монолитная архитектура проще в начальной стадии, но её масштабируемость может быть
  ограничена.

## Последствия

- Решение позволит организовать работу над различными модулями параллельно, улучшая скорость разработки. Однако, по мере
  роста системы, могут возникнуть сложности с интеграцией модулей. Плюсы: упрощённое развертывание и легкость в
  поддержке. Минусы: потенциальные трудности при дальнейшем масштабировании.

### Риски

#### Зависимость между модулями

- Основные риски связаны с возможными зависимостями между модулями, что может затруднить изменения в одной части
  системы. Для снижения этих рисков будет применяться строгая архитектурная схема и тестирование на уровне модулей.

### Затронутые области

- Решение повлияет на все компоненты системы, включая разработку, тестирование и деплой. Необходимы будут изменения в
  подходах к управлению зависимостями и тестированию.

### История

- Дискуссия о выборе архитектуры началась с оценки требований к масштабируемости и управляемости. Команда рассматривала
  различные варианты, и после анализа плюсов и минусов модульного подхода было принято решение о выборе модульного
  монолита. 